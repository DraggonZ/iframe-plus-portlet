<!-- 
  Copyright (c) 2012 University of Geneva, Nicolas Forney (nicolas@eforney.com). 
  Released under the terms of the GNU General Public License.
  
  Iframe+ Intermediary
 -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
	<head>
		<title>Iframe+ Intermediary</title>
		<script src="@{'/public/javascripts/easyxdm/easyXDM.debug.js'}" type="text/javascript" charset="${_response_encoding}"></script>
		<style type="text/css">
				  html, body {
					  overflow: hidden;
					  width: 100%;
					  height: 100%;
					  margin: 0px;
					  padding: 0px;
			
				  }           
				  iframe {
					  width: 100%;
					  height: 100%;
					  border: 0px;
				  }
		</style> 
	</head>
	<body>
		<script type="text/javascript" charset="${_response_encoding}"> 		
			var socket = new easyXDM.Socket({
				swf: "/public/javascripts/easyxdm.swf",                       
				onReady: function(){
					iframe = document.createElement('iframe');
					iframe.id = 'iframeplus';
					iframe.frameBorder = 0;
					document.body.appendChild(iframe);
					iframe.src = easyXDM.query.url;
				},
				onMessage: function(url, origin){
					iframe.src = url;
				}
			}); 
		</script>
	</body>
</html>		